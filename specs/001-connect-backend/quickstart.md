# Quickstart: Подключение фронтенда к API дилемм

**Feature**: `001-connect-backend`  
**Цель**: Запустить `backend-dilemma` и `frontend-dilemma` так, чтобы фронтенд работал через живое API.

---

## 1. Предусловия

- Установлен `pnpm`.  
- PostgreSQL доступен локально (или используется docker‑окружение из `backend-dilemma`).  
- Репозиторий склонирован, активна ветка `001-connect-backend`.

---

## 2. Запуск backend‑API локально

1. Перейти в каталог backend:
   - `cd backend-dilemma`
2. Убедиться, что переменные окружения для подключения к Postgres настроены (см. README backend).  
3. Запустить в dev‑режиме:
   - `pnpm install` (если зависимости ещё не установлены)
   - `pnpm start:dev`
4. API должно быть доступно по локальному адресу (например, `http://localhost:3000/api`), Swagger — по пути `/api/docs`.

---

## 3. Конфигурация фронтенда для работы с API

1. Перейти в каталог фронтенда:
   - `cd frontend-dilemma`
2. Установить зависимости:
   - `pnpm install`
3. Создать файл окружения для dev‑режима (если его нет), например:
   - `.env.local` с переменной `VITE_API_BASE_URL`, указывающей на локальный backend, либо на задеплоенный Railway‑URL.

Фронтенд использует значение `VITE_API_BASE_URL` как базовый URL для всех запросов к backend‑API.

---

## 4. Запуск фронтенда

1. Находясь в `frontend-dilemma`, выполнить:
   - `pnpm dev`
2. Открыть приложение в браузере (обычно `http://localhost:3000`).  
3. При первом заходе фронтенд сгенерирует UUID пользователя и будет отправлять его в заголовке `X-User-UUID` во всех запросах к API.

---

## 5. Базовая проверка интеграции

1. Открыть страницу выбора дилем.  
2. Убедиться, что список дилем загружается с backend‑API (можно проверить в devtools по сетевым запросам).  
3. Пройти одну дилему: сделать initial choice, получить фидбэк, затем сделать final choice.  
4. Обновить страницу и проверить, что состояние (пройденная дилема, траектория, статистика) соответствует данным на сервере.

