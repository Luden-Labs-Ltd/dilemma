# Tasks: –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –¥–∏–ª–µ–º—ã (A, B, C –∏ –±–æ–ª–µ–µ)

**Input**: Design documents from `/specs/006-multi-option-dilemmas/`  
**Prerequisites**: plan.md, spec.md, research.md, data-model.md, contracts/

**Tests**: –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω—ã—Ö —Ç–µ—Å—Ç-–∑–∞–¥–∞—á; –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç unit/E2E –Ω–∞ —ç—Ç–∞–ø–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

**Organization**: –ó–∞–¥–∞—á–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏—Å—Ç–æ—Ä–∏—è–º –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏.

## Format: `[ID] [P?] [Story] Description`

- **[P]**: –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã, –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **[Story]**: –ù–æ–º–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏ (US1‚ÄìUS5)
- –í –æ–ø–∏—Å–∞–Ω–∏—è—Ö —É–∫–∞–∑–∞–Ω—ã —Ç–æ—á–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º

## Path Conventions

- **Backend**: `backend-dilemma/src/` (–º–æ–¥—É–ª–∏ dilemmas, decisions, statistics, i18n)
- **Frontend**: `frontend-dilemma/src/` (pages, shared/types, shared/hooks, shared/lib)

---

## Phase 1: Setup (Shared Infrastructure)

**Purpose**: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥ –º—É–ª—å—Ç–∏-–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å

- [x] T001 [P] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É MAX_OPTIONS = 10 –∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –º–∞—Å—Å–∏–≤ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –±—É–∫–≤ A‚ÄìJ –≤ backend-dilemma/src/modules/dilemmas/ –∏–ª–∏ common/constants
- [x] T002 –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ backend-dilemma –µ—Å—Ç—å –∫–∞—Ç–∞–ª–æ–≥/–º–µ—Ö–∞–Ω–∏–∑–º –º–∏–≥—Ä–∞—Ü–∏–π TypeORM (migrations –∏–ª–∏ data-source)

---

## Phase 2: Foundational (Blocking Prerequisites)

**Purpose**: –°—Ö–µ–º–∞ –ë–î –∏ —Å—É—â–Ω–æ—Å—Ç–∏, –±–µ–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–ª—å–∑—è —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å user stories

**‚ö†Ô∏è CRITICAL**: –ù–∏ –æ–¥–Ω–∞ user story –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–π —Ñ–∞–∑—ã

- [x] T003 –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é: –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ç–∞–±–ª–∏—Ü—É dilemmas –∫–æ–ª–æ–Ω–∫—É options_count SMALLINT NOT NULL DEFAULT 2 —Å CHECK (options_count >= 2 AND options_count <= 10) –≤ backend-dilemma
- [x] T004 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ options_count (number, 2‚Äì10) –≤ backend-dilemma/src/modules/dilemmas/entities/dilemma.entity.ts
- [x] T005 [P] –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–∏–ø choice –¥–æ A‚ÄìJ: –≤ backend-dilemma/src/modules/decisions/entities/user-decision.entity.ts –∑–∞–º–µ–Ω–∏—Ç—å enum Choice –Ω–∞ —Å—Ç—Ä–æ–∫–æ–≤—ã–π —Ç–∏–ø varchar(1) –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å enum (A..J); –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Å–ª–∞–±–∏—Ç—å/—É–±—Ä–∞—Ç—å CHECK –≤ –ë–î –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- [x] T006 [P] –î–æ–±–∞–≤–∏—Ç—å —Ö–µ–ª–ø–µ—Ä getValidOptionLetters(optionsCount: number): string[] (–±—É–∫–≤—ã A..J –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤) –≤ backend-dilemma/src/modules/dilemmas/ –∏–ª–∏ decisions/ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—ã–±–æ—Ä–∞

**Checkpoint**: –û—Å–Ω–æ–≤–∞ –≥–æ—Ç–æ–≤–∞ ‚Äî –º–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º –ø–æ user stories

---

## Phase 3: User Story 1 ‚Äî –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∏–ª–µ–º—ã —Å –¥–≤—É–º—è –∏–ª–∏ —Ç—Ä–µ–º—è –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ (Priority: P1) üéØ MVP

**Goal**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –¥–µ—Ç–∞–ª–∏ –¥–∏–ª–µ–º—ã —Å –º–∞—Å—Å–∏–≤–æ–º options (2 –∏–ª–∏ 3+ –≤–∞—Ä–∏–∞–Ω—Ç–∞); —Å–ø–∏—Å–æ–∫ –¥–∏–ª–µ–º –µ–¥–∏–Ω—ã–π.

**Independent Test**: GET /api/dilemmas/{name} –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç options: [{ id, title, description }, ...] –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ options_count; –¥–ª—è 2-–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π ‚Äî 2 —ç–ª–µ–º–µ–Ω—Ç–∞, –¥–ª—è 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π ‚Äî 3. –°–ø–∏—Å–æ–∫ GET /api/dilemmas –±–µ–∑ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø–æ —á–∏—Å–ª—É –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.

### Implementation for User Story 1

- [x] T007 [P] [US1] –ò–∑–º–µ–Ω–∏—Ç—å backend-dilemma/src/modules/dilemmas/dto/dilemma-details.dto.ts: –∑–∞–º–µ–Ω–∏—Ç—å optionA/optionB –Ω–∞ options: OptionDto[] (OptionDto —Å –ø–æ–ª—è–º–∏ id, title, description)
- [x] T008 [US1] –í backend-dilemma/src/modules/dilemmas/dilemmas.service.ts –≤ findOneByName —Å—Ç—Ä–æ–∏—Ç—å –º–∞—Å—Å–∏–≤ options –ø–æ dilemma.options_count: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ 1..options_count –±—Ä–∞—Ç—å –±—É–∫–≤—É (A, B, C, ‚Ä¶), –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤ i18n –∫–ª—é—á–∏ dilemmas.{name}.option_{letter}_title, option_{letter}_description; –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å DTO —Å options –∏ hasParticipated
- [x] T009 [US1] –î–æ–±–∞–≤–∏—Ç—å –≤ backend-dilemma/src/i18n/en, he, ru –≤ dilemmas.json –∫–ª—é—á–∏ option_c_title, option_c_description, feedback_c –¥–ª—è –æ–¥–Ω–æ–π —Ç–µ—Å—Ç–æ–≤–æ–π –¥–∏–ª–µ–º—ã (–∏–ª–∏ –∑–∞–≥–ª—É—à–∫–∏), —á—Ç–æ–±—ã 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω–∞—è –¥–∏–ª–µ–º–∞ –º–æ–≥–ª–∞ –æ—Ç–¥–∞–≤–∞—Ç—å—Å—è –∏–∑ API
- [x] T010 [P] [US1] –í frontend-dilemma/src/shared/types/dilemma.ts: –∏–∑–º–µ–Ω–∏—Ç—å Choice –Ω–∞ "A"|"B"|"C"|‚Ä¶ –∏ options –Ω–∞ –º–∞—Å—Å–∏–≤ DilemmaOption[] (2‚Äì10 —ç–ª–µ–º–µ–Ω—Ç–æ–≤); –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Dilemma (options ‚Äî –º–∞—Å—Å–∏–≤, –Ω–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∞—Ä–∞)
- [x] T011 [US1] –í frontend-dilemma –æ–±–Ω–æ–≤–∏—Ç—å useDilemmaData/useDilemma –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ChoicePage/ReasonPage (–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ, –≥–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–∞—Ä–∏–∞–Ω—Ç—ã): —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å options –∏–∑ API –∫–∞–∫ –º–∞—Å—Å–∏–≤, –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –¥–≤—É–º –∫–Ω–æ–ø–∫–∞–º A/B; –µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–∏–ª–µ–º –Ω–µ —Ä–∞–∑–¥–µ–ª—è—Ç—å –ø–æ —á–∏—Å–ª—É –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

**Checkpoint**: User Story 1 –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: GET –¥–∏–ª–µ–º—ã —Å 2 –∏ —Å 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏, —Ñ—Ä–æ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω—É–∂–Ω–æ–µ —á–∏—Å–ª–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

---

## Phase 4: User Story 2 ‚Äî –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (Priority: P1)

**Goal**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç initial choice (A, B –∏–ª–∏ C‚Ä¶); —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±–æ—Ä –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–∏–¥–±—ç–∫ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞; –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π –≤—ã–±–æ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è (400).

**Independent Test**: POST /api/decisions/initial —Å choice "C" –¥–ª—è 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π –¥–∏–ª–µ–º—ã ‚Äî 201 –∏ feedback; —Å choice "D" –¥–ª—è 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π ‚Äî 400; –ø–æ–≤—Ç–æ—Ä–Ω—ã–π initial ‚Äî 409.

### Implementation for User Story 2

- [x] T012 [P] [US2] –í backend-dilemma/src/modules/decisions/dto/initial-choice.dto.ts: —Ä–∞—Å—à–∏—Ä–∏—Ç—å choice —Å IsIn(['A','B']) –Ω–∞ IsIn(['A','B','C','D','E','F','G','H','I','J'])
- [x] T013 [US2] –í backend-dilemma/src/modules/decisions/decisions.service.ts –≤ createInitialChoice: –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∏–ª–µ–º—É, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ choice –≤—Ö–æ–¥–∏—Ç –≤ getValidOptionLetters(dilemma.options_count); –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –≤—ã–±–æ—Ä–µ ‚Äî BadRequestException; —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å feedbackKey –∫–∞–∫ feedback_{letter} (a, b, c, ‚Ä¶) –∏ –±—Ä–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ i18n dilemmas.{name}.{feedbackKey}
- [x] T014 [US2] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ backend-dilemma/src/i18n (en/he/ru) –¥–ª—è –¥–∏–ª–µ–º —Å options_count >= 3 –µ—Å—Ç—å –∫–ª—é—á–∏ feedback_c (–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ option_c_title, option_c_description); –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π –¥–∏–ª–µ–º—ã

**Checkpoint**: User Story 2 –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: initial choice A/B/C –¥–ª—è 2- –∏ 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã—Ö –¥–∏–ª–µ–º, —Ñ–∏–¥–±—ç–∫ –∏ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

## Phase 5: User Story 3 ‚Äî –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—ã–±–æ—Ä–∞ –ª—é–±–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (Priority: P1)

**Goal**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç final choice (–ª—é–±–∞—è –±—É–∫–≤–∞ –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–∏–ª–µ–º—ã); —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç final_choice, –≤—ã—á–∏—Å–ª—è–µ—Ç changed_mind –∏ path = initial_choice + final_choice.

**Independent Test**: POST /api/decisions/final —Å choice "C" –ø–æ—Å–ª–µ initial "A" ‚Äî 200, path "AC", changedMind true; –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π choice ‚Äî 400; –±–µ–∑ initial ‚Äî 400.

### Implementation for User Story 3

- [x] T015 [P] [US3] –í backend-dilemma/src/modules/decisions/dto/final-choice.dto.ts: —Ä–∞—Å—à–∏—Ä–∏—Ç—å choice —Å IsIn(['A','B']) –Ω–∞ IsIn(['A','B','C','D','E','F','G','H','I','J'])
- [x] T016 [US3] –í backend-dilemma/src/modules/decisions/decisions.service.ts –≤ createFinalChoice: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å choice –≤—Ö–æ–¥–∏—Ç –≤ getValidOptionLetters(dilemma.options_count); –ø—Ä–∏—Å–≤–æ–∏—Ç—å decision.final_choice = choice; path –≤—ã—á–∏—Å–ª—è—Ç—å –∫–∞–∫ `${decision.initial_choice}${choice}` (—Å—Ç—Ä–æ–∫–∞ –∏–∑ –¥–≤—É—Ö –±—É–∫–≤); —Ç–∏–ø path –≤ DecisionResponseDto ‚Äî string (–Ω–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π union AA|AB|BA|BB)

**Checkpoint**: User Story 3 –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: final choice –¥–ª—è 2- –∏ 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã—Ö –¥–∏–ª–µ–º, path –∏ changedMind

---

## Phase 6: User Story 4 ‚Äî –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–∏—á–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å —É—á—ë—Ç–æ–º —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π (Priority: P2)

**Goal**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–≤–æ–∏ —Ä–µ—à–µ–Ω–∏—è —Å —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–µ–π path (2 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è –ª—é–±–æ–π –¥–∏–ª–µ–º—ã).

**Independent Test**: GET /api/decisions/my –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è —Å initialChoice, finalChoice –∏ path (–Ω–∞–ø—Ä–∏–º–µ—Ä AC, CB); –¥–ª—è 2-–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã—Ö ‚Äî AA, AB, BA, BB.

### Implementation for User Story 4

- [x] T017 [US4] –í backend-dilemma —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç ¬´–º–æ–∏ —Ä–µ—à–µ–Ω–∏—è¬ª (–µ—Å–ª–∏ –µ—Å—Ç—å) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç path –∫–∞–∫ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—é initial_choice + final_choice –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏; –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ quickstart
- [x] T018 [US4] –í frontend-dilemma –≤ useMyDecisions –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –≥–¥–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π: –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å path (2 —Å–∏–º–≤–æ–ª–∞) –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —á–∏—Å–ª–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–∏–ª–µ–º—ã (—Ç–∏–ø—ã/–∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å —Å backend)

**Checkpoint**: User Story 4 –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: –ª–∏—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Å —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è–º–∏ –¥–ª—è 2- –∏ 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã—Ö –¥–∏–ª–µ–º

---

## Phase 7: User Story 5 ‚Äî –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–∏–ª–µ–º–µ –ø—Ä–∏ —Ä–∞–∑–Ω–æ–º —á–∏—Å–ª–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (Priority: P2)

**Goal**: GET —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –¥–∏–ª–µ–º–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç pathCounts —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∫–ª—é—á–∞–º–∏ (AA, AB, ‚Ä¶, CC –¥–ª—è 3 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤) –∏ totalCompleted.

**Independent Test**: GET /api/statistics/dilemma/{name} –¥–ª—è 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π –¥–∏–ª–µ–º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç pathCounts —Å –∫–ª—é—á–∞–º–∏ AA, AB, AC, BA, BB, BC, CA, CB, CC; –¥–ª—è 2-–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π ‚Äî —Ç–æ–ª—å–∫–æ AA, AB, BA, BB.

### Implementation for User Story 5

- [x] T019 [P] [US5] –í backend-dilemma/src/modules/statistics/dto/path-stats.dto.ts: –∑–∞–º–µ–Ω–∏—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è AA, AB, BA, BB –Ω–∞ pathCounts: Record<string, number> –∏ –æ—Å—Ç–∞–≤–∏—Ç—å totalCompleted
- [x] T020 [US5] –í backend-dilemma/src/modules/statistics/statistics.service.ts –≤ getPathStatsByDilemmaName: –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∏–ª–µ–º—É, –ø–æ–ª—É—á–∏—Ç—å options_count; –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ —Å final_choice –≤—ã—á–∏—Å–ª—è—Ç—å path = initial_choice + final_choice; –∑–∞–ø–æ–ª–Ω—è—Ç—å –æ–±—ä–µ–∫—Ç pathCounts —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–∏–ª–µ–º—ã (N¬≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π); –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å { pathCounts, totalCompleted }
- [x] T021 [US5] –í frontend-dilemma –Ω–∞ StatsPage (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥): –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ pathCounts (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏) –∏ totalCompleted; —Ç–∏–ø DilemmaStats –∏–ª–∏ –æ—Ç–≤–µ—Ç API —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å —Å –Ω–æ–≤—ã–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º

**Checkpoint**: User Story 5 –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è 2- –∏ 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã—Ö –¥–∏–ª–µ–º —Å pathCounts

---

## Phase 8: Polish & Cross-Cutting Concerns

**Purpose**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –æ—Ö—Ä–∞–Ω–∞ FR-010, –ø—Ä–æ–≤–µ—Ä–∫–∞ quickstart

- [x] T022 [P] –î–æ–±–∞–≤–∏—Ç—å –≤ backend-dilemma (—Å–µ—Ä–≤–∏—Å –¥–∏–ª–µ–º –∏–ª–∏ –±—É–¥—É—â–∏–π admin-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä) –ø—Ä–æ–≤–µ—Ä–∫—É FR-010: –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∏–ª–µ–º—ã, –µ—Å–ª–∏ –ø–æ –Ω–µ–π –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å –≤ user_decisions, –∑–∞–ø—Ä–µ—â–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ options_count; –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ ‚Äî 409 –∏–ª–∏ 400 —Å –ø–æ–Ω—è—Ç–Ω—ã–º –∫–æ–¥–æ–º; –µ—Å–ª–∏ –ø—É–±–ª–∏—á–Ω–æ–≥–æ API –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∏–ª–µ–º –ø–æ–∫–∞ –Ω–µ—Ç ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ –≤ –∫–æ–¥–µ/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–ª–∏ –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º guard/–º–µ—Ç–æ–¥–µ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [x] T023 –ü—Ä–æ–≥–Ω–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ specs/006-multi-option-dilemmas/quickstart.md: –µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–∏–ª–µ–º, –¥–µ—Ç–∞–ª–∏ —Å options, initial/final choice, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ pathCounts; –ø—Ä–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–∏ –æ–±–Ω–æ–≤–∏—Ç—å quickstart –∏–ª–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç

---

## Dependencies & Execution Order

### Phase Dependencies

- **Phase 1 (Setup)**: –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å—Ä–∞–∑—É
- **Phase 2 (Foundational)**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç Phase 1; –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ user stories
- **Phase 3‚Äì7 (User Stories)**: –ó–∞–≤–∏—Å—è—Ç –æ—Ç Phase 2; US2 –∏ US3 –∑–∞–≤–∏—Å—è—Ç –æ—Ç US1 (–∫–æ–Ω—Ç—Ä–∞–∫—Ç options –∏ –¥–∏–ª–µ–º–∞); US4 –∏ US5 –º–æ–≥—É—Ç –æ–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ US1‚ÄìUS3
- **Phase 8 (Polish)**: –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω—É–∂–Ω—ã—Ö user stories

### User Story Dependencies

- **US1 (P1)**: –ü–æ—Å–ª–µ Phase 2 ‚Äî –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—Ä–∏–π
- **US2 (P1)**: –ü–æ—Å–ª–µ Phase 2 –∏ US1 (–Ω—É–∂–Ω—ã options_count –∏ –¥–∏–ª–µ–º–∞ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏)
- **US3 (P1)**: –ü–æ—Å–ª–µ Phase 2 –∏ US2 (final –ø–æ—Å–ª–µ initial)
- **US4 (P2)**: –ü–æ—Å–ª–µ US1‚ÄìUS3 (path –≤ –æ—Ç–≤–µ—Ç–∞—Ö —Ä–µ—à–µ–Ω–∏–π)
- **US5 (P2)**: –ü–æ—Å–ª–µ US1 –∏ Phase 2 (pathCounts –ø–æ –¥–∏–ª–µ–º–µ)

### Within Each User Story

- DTO/—Ç–∏–ø—ã –ø–µ—Ä–µ–¥ —Å–µ—Ä–≤–∏—Å–∞–º–∏; —Å–µ—Ä–≤–∏—Å—ã –ø–µ—Ä–µ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏/—Ñ—Ä–æ–Ω—Ç–æ–º
- Backend –ø–µ—Ä–µ–¥ —Ñ—Ä–æ–Ω—Ç–æ–º, –≥–¥–µ –µ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

### Parallel Opportunities

- T001, T002 (Phase 1) –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- T004, T005, T006 (Phase 2) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ T003
- T007, T010 (Phase 3) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ; T011 –ø–æ—Å–ª–µ T007‚ÄìT009
- T012, T015 (Phase 4‚Äì5) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ DTO
- T019, T021 (Phase 7) ‚Äî DTO –∏ —Ñ—Ä–æ–Ω—Ç-—Ç–∏–ø—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å T020

---

## Parallel Example: User Story 1

```text
# –°–Ω–∞—á–∞–ª–∞ –º–∏–≥—Ä–∞—Ü–∏—è –∏ —Å—É—â–Ω–æ—Å—Ç–∏ (Phase 2):
T003 ‚Üí T004, T005, T006 (T004‚ÄìT006 –ø–æ—Å–ª–µ T003)

# –í —Ä–∞–º–∫–∞—Ö US1 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ:
T007 (dto), T010 (frontend types)
–ü–æ—Å–ª–µ T008, T009: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ T011 (frontend pages)
```

---

## Implementation Strategy

### MVP First (User Stories 1‚Äì3)

1. –í—ã–ø–æ–ª–Ω–∏—Ç—å Phase 1 –∏ Phase 2
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å Phase 3 (US1) ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å GET –¥–∏–ª–µ–º—ã —Å options
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å Phase 4 (US2) ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å initial choice –∏ —Ñ–∏–¥–±—ç–∫
4. –í—ã–ø–æ–ª–Ω–∏—Ç—å Phase 5 (US3) ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å final choice –∏ path
5. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏ –ø—Ä–æ–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –¥–ª—è 2- –∏ 3-–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π –¥–∏–ª–µ–º—ã

### Incremental Delivery

1. Phase 1 + 2 ‚Üí –æ—Å–Ω–æ–≤–∞
2. US1 ‚Üí –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∏–ª–µ–º —Å 2/3 –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ (MVP –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)
3. US2 + US3 ‚Üí –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –≤—ã–±–æ—Ä–∞ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
4. US4 ‚Üí –ª–∏—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å path
5. US5 ‚Üí –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å pathCounts
6. Phase 8 ‚Üí –ø–æ–ª–∏—Ä–æ–≤–∫–∞ –∏ FR-010

### Format Validation

- –í—Å–µ –∑–∞–¥–∞—á–∏ –∏–º–µ—é—Ç —Ñ–æ—Ä–º–∞—Ç `- [ ] Txxx [P?] [US?] Description —Å –ø—É—Ç—ë–º –∫ —Ñ–∞–π–ª—É`
- Checkbox, ID, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ [P] –∏ [Story], –æ–ø–∏—Å–∞–Ω–∏–µ —Å –ø—É—Ç—è–º–∏ ‚Äî —Å–æ–±–ª—é–¥–µ–Ω—ã

---

## Notes

- [P] ‚Äî –∑–∞–¥–∞—á–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö –±–µ–∑ –≤–∑–∞–∏–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [USn] ‚Äî –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã –º–æ–∂–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ MAX_OPTIONS (10) –∏ getValidOptionLetters –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ pathCounts
